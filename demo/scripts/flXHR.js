/*	flXHR 1.0.1 <http://flxhr.flensed.com/>
	Copyright (c) 2008 Kyle Simpson, Getify Solutions, Inc.
	This software is released under the MIT License <http://www.opensource.org/licenses/mit-license.php>

	====================================================================================================
*/
(function(Q){var D=Q,b=Q.document,M="undefined",G=true,d=false,c="",H="object",N="function",S="string",L="div",C="onunload",X=null,O=null,I=null,T=null,U=0,Z=[],F=null,Y=null,a="flXHR.js",J="flensed.js",W="flXHR.vbs",E="checkplayer.js",K="flXHR.swf",V=Q.parseInt,B=Q.setTimeout,A=Q.clearTimeout,R=Q.setInterval,P=Q.clearInterval;if(typeof Q.flensed===M){Q.flensed={}}if(typeof Q.flensed.flXHR!==M){return}O=Q.flensed;B(function(){var e=d,q=b.getElementsByTagName("script"),j=q.length;try{O.base_path.toLowerCase();e=G}catch(h){O.base_path=c}function o(x,w,y){for(var v=0;v<j;v++){if(typeof q[v].src!==M){if(q[v].src.indexOf(x)>=0){break}}}var u=b.createElement("script");u.setAttribute("src",O.base_path+x);if(typeof w!==M){u.setAttribute("type",w)}if(typeof y!==M){u.setAttribute("language",y)}b.getElementsByTagName("head")[0].appendChild(u)}if((typeof q!==M)&&(q!==null)){if(!e){var r=0;for(var i=0;i<j;i++){if(typeof q[i].src!==M){if(((r=q[i].src.indexOf(J))>=0)||((r=q[i].src.indexOf(a))>=0)){O.base_path=q[i].src.substr(0,r);break}}}}}try{O.checkplayer.module_ready()}catch(p){o(E,"text/javascript")}var s=null;(function t(){try{O.ua.pv.join(".")}catch(k){s=B(arguments.callee,25);return}if(O.ua.win&&O.ua.ie){o(W,"text/vbscript","vbscript")}O.binaryToString=function(x,w){w=(((O.ua.win&&O.ua.ie)&&typeof w!==M)?(!(!w)):!(O.ua.win&&O.ua.ie));if(!w){try{return flXHR_vb_BinaryToString(x)}catch(z){}}var Aa=c,v=[];try{for(var y=0;y<x.length;y++){v[v.length]=String.fromCharCode(x[y])}Aa=v.join(c)}catch(u){}return Aa};O.bindEvent(D,C,function(){try{O.unbindEvent(D,C,arguments.callee);for(var w in Y){if(Y[w]!==Object.prototype[w]){try{Y[w]=null}catch(v){}}}O.flXHR=null;Y=null;T=null;I=null}catch(u){}})})();function n(){A(s);try{D.detachEvent(C,n)}catch(k){}}if(s!==null){try{D.attachEvent(C,n)}catch(m){}}function f(){A(g);try{D.detachEvent(C,f)}catch(k){}}try{D.attachEvent(C,f)}catch(l){}var g=B(function(){f();try{O.checkplayer.module_ready()}catch(k){throw new Q.Error("flXHR dependencies failed to load.")}},20000)},0);O.flXHR=function(AC){var p=d;if(AC!==null&&typeof AC===H){if(typeof AC.instancePooling!==M){p=!(!AC.instancePooling);if(p){var Ar=function(){for(var AL=0;AL<Z.length;AL++){var AM=Z[AL];if(AM.readyState===4){AM.Reset();AM.Configure(AC);return AM}}return null}();if(Ar!==null){return Ar}}}}var AH=++U,v=[],s=null,u=null,l=null,m=null,Ax=-1,o=null,q=null,Ab=null,Aq=null,Ai=null,AG=null,x=null,e=null,Aw=null,n=G,An=d,AJ="flXHR_"+AH,Ag=G,Ao=d,Am=G,Au=d,g="flXHR_swf",r="flXHRhideSwf",j=null,As=-1,h=c,Av=null,Ap=null,Az=null;var i=function(){if(typeof AC===H&&AC!==null){if((typeof AC.instanceId!==M)&&(AC.instanceId!==null)&&(AC.instanceId!==c)){AJ=AC.instanceId}if((typeof AC.swfIdPrefix!==M)&&(AC.swfIdPrefix!==null)&&(AC.swfIdPrefix!==c)){g=AC.swfIdPrefix}if((typeof AC.appendToId!==M)&&(AC.appendToId!==null)&&(AC.appendToId!==c)){j=AC.appendToId}if((typeof AC.loadPolicyURL!==M)&&(AC.loadPolicyURL!==null)&&(AC.loadPolicyURL!==c)){h=AC.loadPolicyURL}if(typeof AC.noCacheHeader!==M){Ag=!(!AC.noCacheHeader)}if(typeof AC.binaryResponseBody!==M){Ao=!(!AC.binaryResponseBody)}if(typeof AC.xmlResponseText!==M){Am=!(!AC.xmlResponseText)}if(typeof AC.autoUpdatePlayer!==M){Au=!(!AC.autoUpdatePlayer)}if((typeof AC.sendTimeout!==M)&&((X=V(AC.sendTimeout,10))>0)){As=X}if((typeof AC.onreadystatechange!==M)&&(AC.onreadystatechange!==null)){Av=AC.onreadystatechange}if((typeof AC.onerror!==M)&&(AC.onerror!==null)){Ap=AC.onerror}if((typeof AC.ontimeout!==M)&&(AC.ontimeout!==null)){Az=AC.ontimeout}}m=g+"_"+AH;function AL(){A(s);try{D.detachEvent(C,AL)}catch(AO){}}try{D.attachEvent(C,AL)}catch(AM){}(function AN(){try{O.bindEvent(D,C,At)}catch(AO){s=B(arguments.callee,25);return}AL();s=B(AE,1)})()}();function AE(){if(j===null){e=b.getElementsByTagName("body")[0]}else{e=O.getObjectById(j)}try{e.nodeName.toLowerCase();O.checkplayer.module_ready();I=O.checkplayer}catch(AM){s=B(AE,25);return}if((T===null)&&(typeof I._ins===M)){try{T=new I(Y.MIN_PLAYER_VERSION,AF,d,Ad)}catch(AL){AA(Y.DEPENDENCY_ERROR,"flXHR: checkplayer Init Failed","The initialization of the 'checkplayer' library failed to complete.");return}}else{T=I._ins;t()}}function t(){if(T===null||!T.checkPassed){s=B(t,25);return}if(F===null&&j===null){O.createCSS("."+r,"left:-1px;top:0px;width:1px;height:1px;position:absolute;");F=G}var AP=b.createElement(L);AP.id=m;AP.className=r;e.appendChild(AP);e=null;var AM={},AQ={allowScriptAccess:"always"},AN={id:m,name:m,styleclass:r},AO={swfCB:AD,swfEICheck:"reset"};try{T.DoSWF(O.base_path+K,m,"1","1",AM,AQ,AN,AO)}catch(AL){AA(Y.DEPENDENCY_ERROR,"flXHR: checkplayer Call Failed","A call to the 'checkplayer' library failed to complete.");return}}function AD(AL){if(AL.status!==I.SWF_EI_READY){return}f();AG=O.getObjectById(m);AG.setId(m);if(h!==c){AG.loadPolicy(h)}AG.autoNoCacheHeader(Ag);AG.returnBinaryResponseBody(Ao);AG.doOnReadyStateChange=y;AG.doOnError=AA;AG.sendProcessed=Ac;AG.chunkResponse=Ak;Ax=0;Aj();AI();if(typeof Av===N){try{Av(x)}catch(AM){AA(Y.HANDLER_ERROR,"flXHR::onreadystatechange(): Error","An error occurred in the handler function. ("+AM.message+")");return}}Af()}function At(){try{O.unbindEvent(D,C,At)}catch(AO){}try{for(var AP=0;AP<Z.length;AP++){if(Z[AP]===x){Z[AP]=d}}}catch(AW){}try{for(var AR in x){if(x[AR]!==Object.prototype[AR]){try{x[AR]=null}catch(AV){}}}}catch(AU){}x=null;f();if((typeof AG!==M)&&(AG!==null)){try{AG.abort()}catch(AT){}try{AG.doOnReadyStateChange=null;y=null}catch(AS){}try{AG.doOnError=null;doOnError=null}catch(AQ){}try{AG.sendProcessed=null;Ac=null}catch(AN){}try{AG.chunkResponse=null;Ak=null}catch(AM){}AG=null;try{Q.swfobject.removeSWF(m)}catch(AL){}}AB();Av=null;Ap=null;Az=null;Ax=0;Aq=null;Ai=null;q=null;Ab=null;o=null;Aw=null;e=null}function Ak(){if(Ao&&typeof arguments[0]!==M){Aw=((Aw!==null)?Aw:[]);Aw=Aw.concat(arguments[0])}else{if(typeof arguments[0]===S){Aw=((Aw!==null)?Aw:c);Aw+=arguments[0]}}}function y(){if(typeof arguments[0]!==M){Ax=arguments[0]}if(Ax===4){f();if(Ao&&Aw!==null){try{q=O.binaryToString(Aw,G);try{o=flXHR_vb_StringToBinary(q)}catch(AO){o=Aw}}catch(AN){}}else{q=Aw}Aw=null;if(q!==c){if(Am){try{Ab=O.parseXMLString(q)}catch(AM){Ab={}}}}}if(typeof arguments[1]!==M){Aq=arguments[1]}if(typeof arguments[2]!==M){Ai=arguments[2]}Aj();AI();if(typeof Av===N){try{Av(x)}catch(AL){AA(Y.HANDLER_ERROR,"flXHR::onreadystatechange(): Error","An error occurred in the handler function. ("+AL.message+")");return}}}function AA(){f();AB();An=G;var AO;try{AO=new O.error(arguments[0],arguments[1],arguments[2],x)}catch(AP){function AM(){this.number=0;this.name="flXHR Error: Unknown";this.description="Unknown error from 'flXHR' library.";this.message=this.description;this.srcElement=x;var AT=this.number,AS=this.name,AV=this.description;function AU(){return AT+", "+AS+", "+AV}this.toString=AU}AO=new AM()}var AQ=d;try{if(typeof Ap===N){Ap(AO);AQ=G}}catch(AL){var AN=AO.toString();function AR(){this.number=Y.HANDLER_ERROR;this.name="flXHR::onerror(): Error";this.description="An error occured in the handler function. ("+AL.message+")\nPrevious:["+AN+"]";this.message=this.description;this.srcElement=x;var AT=this.number,AS=this.name,AV=this.description;function AU(){return AT+", "+AS+", "+AV}this.toString=AU}AO=new AR()}if(!AQ){B(function(){O.throwUnhandledError(AO.toString())},1)}}function k(){z();if(typeof Az===N){try{Az(x)}catch(AL){AA(Y.HANDLER_ERROR,"flXHR::ontimeout(): Error","An error occurred in the handler function. ("+AL.message+")");return}}else{AA(Y.TIMEOUT_ERROR,"flXHR: Operation Timed out","The requested operation timed out.")}}function f(){A(s);s=null;A(l);l=null;A(u);u=null}function AK(AM,AN,AL){v[v.length]={func:AM,funcName:AN,args:AL};n=d}function AB(){if(!n){n=G;var AM=v.length;for(var AL=0;AL<AM;AL++){try{v[AL]=d}catch(AN){}}v=[]}}function Af(){if(Ax<0){u=B(Af,25);return}if(!n){for(var AL=0;AL<v.length;AL++){try{if(v[AL]!==d){v[AL].func.apply(x,v[AL].args);v[AL]=d}}catch(AM){AA(Y.HANDLER_ERROR,"flXHR::"+v[AL].funcName+"(): Error","An error occurred in the "+v[AL].funcName+"() function.");return}}n=G}}function AI(){try{x.instanceId=AJ;x.readyState=Ax;x.status=Aq;x.statusText=Ai;x.responseText=q;x.responseXML=Ab;x.responseBody=o;x.onreadystatechange=Av;x.onerror=Ap;x.ontimeout=Az;x.loadPolicyURL=h;x.noCacheHeader=Ag;x.binaryResponseBody=Ao;x.xmlResponseText=Am}catch(AL){}}function Aj(){try{AJ=x.instanceId;if(x.timeout!==null&&(X=V(x.timeout,10))>0){As=X}Av=x.onreadystatechange;Ap=x.onerror;Az=x.ontimeout;if(x.loadPolicyURL!==null){if((x.loadPolicyURL!==h)&&(Ax>=0)){AG.loadPolicy(x.loadPolicyURL)}h=x.loadPolicyURL}if(x.noCacheHeader!==null){if((x.noCacheHeader!==Ag)&&(Ax>=0)){AG.autoNoCacheHeader(x.noCacheHeader)}Ag=x.noCacheHeader}if(x.binaryResponseBody!==null){if((x.binaryResponseBody!==Ao)&&(Ax>=0)){AG.returnBinaryResponseBody(x.binaryResponseBody)}Ao=x.binaryResponseBody}if(Am!==null){Am=!(!x.xmlResponseText)}}catch(AL){}}function Ay(){z();try{AG.reset()}catch(AL){}Ax=0;Aq=null;Ai=null;q=null;Ab=null;o=null;Aw=null;An=d;AI();h=c;Aj()}function AF(AL){if(AL.checkPassed){t()}else{if(!Au){AA(Y.PLAYER_VERSION_ERROR,"flXHR: Insufficient Flash Player Version","The Flash Player was either not detected, or the detected version ("+AL.playerVersionDetected+") was not at least the minimum version ("+Y.MIN_PLAYER_VERSION+") needed by the 'flXHR' library.")}else{T.UpdatePlayer()}}}function Ad(AL){if(AL.updateStatus===I.UPDATE_CANCELED){AA(Y.PLAYER_VERSION_ERROR,"flXHR: Flash Player Update Canceled","The Flash Player was not updated.")}else{if(AL.updateStatus===I.UPDATE_FAILED){AA(Y.PLAYER_VERSION_ERROR,"flXHR: Flash Player Update Failed","The Flash Player was either not detected or could not be updated.")}}}function Ac(){if(As!==null&&As>0){l=B(k,As)}}function z(){f();AB();Aj();try{AG.abort()}catch(AL){AA(Y.CALL_ERROR,"flXHR::abort(): Failed","The abort() call failed to complete.")}}function Ah(){Aj();if(typeof arguments[0]===M||typeof arguments[1]===M){AA(Y.CALL_ERROR,"flXHR::open(): Failed","The open() call requires 'method' and 'url' parameters.")}else{if(Ax>0||An){Ay()}var AN=arguments[0],AM=arguments[1],AL=(typeof arguments[2]!==M)?arguments[2]:G,AQ=(typeof arguments[3]!==M)?arguments[3]:c,AP=(typeof arguments[4]!==M)?arguments[4]:c;try{AG.open(AN,AM,AL,AQ,AP)}catch(AO){AA(Y.CALL_ERROR,"flXHR::open(): Failed","The open() call failed to complete.")}}}function Al(){Aj();if(Ax<=1&&!An){var AL=(typeof arguments[0]!==M)?arguments[0]:c;try{AG.autoNoCacheHeader(Ag);AG.send(AL)}catch(AM){AA(Y.CALL_ERROR,"flXHR::send(): Failed","The send() call failed to complete.")}}else{AA(Y.CALL_ERROR,"flXHR::send(): Failed","The send() call cannot be made at this time.")}}function w(){Aj();if(typeof arguments[0]===M||typeof arguments[1]===M){AA(Y.CALL_ERROR,"flXHR::setRequestHeader(): Failed","The setRequestHeader() call requires 'name' and 'value' parameters.")}else{if(!An){var AM=(typeof arguments[0]!==M)?arguments[0]:c,AL=(typeof arguments[1]!==M)?arguments[1]:c;try{AG.setRequestHeader(AM,AL)}catch(AN){AA(Y.CALL_ERROR,"flXHR::setRequestHeader(): Failed","The setRequestHeader() call failed to complete.")}}}}function Aa(){Aj();return c}function Ae(){Aj();return[]}x={readyState:Ax,responseBody:o,responseText:q,responseXML:Ab,status:Aq,statusText:Ai,timeout:As,open:function(){Aj();if(!n||Ax<0){AK(Ah,"open",arguments);return}Ah.apply({},arguments)},send:function(){Aj();if(!n||Ax<0){AK(Al,"send",arguments);return}Al.apply({},arguments)},abort:z,setRequestHeader:function(){Aj();if(!n||Ax<0){AK(w,"setRequestHeader",arguments);return}w.apply({},arguments)},getResponseHeader:Aa,getAllResponseHeaders:Ae,onreadystatechange:Av,ontimeout:Az,instanceId:AJ,loadPolicyURL:h,noCacheHeader:Ag,binaryResponseBody:Ao,xmlResponseText:Am,onerror:Ap,Configure:function(AL){if(typeof AL!==M&&AL!==null&&AL===H){if((typeof AL.instanceId!==M)&&(AL.instanceId!==null)&&(AL.instanceId!==c)){AJ=AL.instanceId}if(typeof AC.noCacheHeader!==M){Ag=!(!AC.noCacheHeader);if(Ax>=0){AG.autoNoCacheHeader(Ag)}}if(typeof AC.binaryResponseBody!==M){Ao=!(!AC.binaryResponseBody);if(Ax>=0){AG.returnBinaryResponseBody(Ao)}}if(typeof AC.xmlResponseText!==M){Am=!(!AC.xmlResponseText)}if((typeof AL.onreadystatechange!==M)&&(AL.onreadystatechange!==null)){Av=AL.onreadystatechange}if((typeof AL.onerror!==M)&&(AL.onerror!==null)){Ap=AL.onerror}if((typeof AL.ontimeout!==M)&&(AL.ontimeout!==null)){Az=AL.ontimeout}if((typeof AL.sendTimeout!==M)&&((X=V(AL.sendTimeout,10))>0)){As=X}if((typeof AL.loadPolicyURL!==M)&&(AL.loadPolicyURL!==null)&&(AL.loadPolicyURL!==c)&&(AL.loadPolicyURL!==h)){h=AL.loadPolicyURL;if(Ax>=0){AG.loadPolicy(h)}}AI()}},Reset:Ay,Destroy:At};if(p){Z[Z.length]=x}return x};Y=O.flXHR;Y.HANDLER_ERROR=10;Y.CALL_ERROR=11;Y.TIMEOUT_ERROR=12;Y.DEPENDENCY_ERROR=13;Y.PLAYER_VERSION_ERROR=14;Y.SECURITY_ERROR=15;Y.COMMUNICATION_ERROR=16;Y.MIN_PLAYER_VERSION="9.0.124";Y.module_ready=function(){}})(window);
